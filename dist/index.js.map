{"version":3,"file":"index.js","sources":["../src/components/src/components/file-upload/hooks/use-file-upload.ts","../node_modules/tslib/tslib.es6.js","../src/components/src/components/file-upload/utils/index.ts","../src/components/src/components/file-upload/components/file-upload-variants.tsx","../src/components/src/components/file-upload/components/progress-bar.tsx","../src/components/src/components/file-upload/components/file-upload.tsx","../src/components/src/components/file-upload/config/default-configs.ts","../src/components/src/components/file-upload/components/file-upload-renderer.tsx"],"sourcesContent":["\"use client\";\n\nimport type React from \"react\";\nimport {\n  useCallback,\n  useRef,\n  useState,\n  type ChangeEvent,\n  type DragEvent,\n  type InputHTMLAttributes,\n} from \"react\";\n\nexport type FileMetadata = {\n  name: string;\n  size: number;\n  type: string;\n  url: string;\n  id: string;\n};\n\nexport type FileWithPreview = {\n  file: File | FileMetadata;\n  id: string;\n  preview?: string;\n  progress?: number; // 0-100\n  status?: \"pending\" | \"uploading\" | \"success\" | \"error\";\n};\n\nexport type FileUploadOptions = {\n  maxFiles?: number; // Only used when multiple is true, defaults to Infinity\n  maxSize?: number; // in bytes\n  accept?: string;\n  multiple?: boolean; // Defaults to false\n  initialFiles?: FileMetadata[];\n  onFilesChange?: (files: FileWithPreview[]) => void; // Callback when files change\n  onFilesAdded?: (addedFiles: FileWithPreview[]) => void; // Callback when new files are added\n};\n\nexport type FileUploadState = {\n  files: FileWithPreview[];\n  isDragging: boolean;\n  errors: string[];\n};\n\nexport type FileUploadActions = {\n  addFiles: (files: FileList | File[]) => void;\n  removeFile: (id: string) => void;\n  clearFiles: () => void;\n  clearErrors: () => void;\n  handleDragEnter: (e: DragEvent<HTMLElement>) => void;\n  handleDragLeave: (e: DragEvent<HTMLElement>) => void;\n  handleDragOver: (e: DragEvent<HTMLElement>) => void;\n  handleDrop: (e: DragEvent<HTMLElement>) => void;\n  handleFileChange: (e: ChangeEvent<HTMLInputElement>) => void;\n  openFileDialog: () => void;\n  getInputProps: (\n    props?: InputHTMLAttributes<HTMLInputElement>\n  ) => InputHTMLAttributes<HTMLInputElement> & {\n    ref: React.Ref<HTMLInputElement>;\n  };\n};\n\nexport const useFileUpload = (\n  options: FileUploadOptions = {}\n): [FileUploadState, FileUploadActions] => {\n  const {\n    maxFiles = Infinity,\n    maxSize = Infinity,\n    accept = \"*\",\n    multiple = false,\n    initialFiles = [],\n    onFilesChange,\n    onFilesAdded,\n  } = options;\n\n  const [state, setState] = useState<FileUploadState>({\n    files: initialFiles.map((file) => ({\n      file,\n      id: file.id,\n      preview: file.url,\n    })),\n    isDragging: false,\n    errors: [],\n  });\n\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const validateFile = useCallback(\n    (file: File | FileMetadata): string | null => {\n      if (file instanceof File) {\n        if (file.size > maxSize) {\n          return `File \"${file.name}\" exceeds the maximum size of ${formatBytes(\n            maxSize\n          )}.`;\n        }\n      } else {\n        if (file.size > maxSize) {\n          return `File \"${file.name}\" exceeds the maximum size of ${formatBytes(\n            maxSize\n          )}.`;\n        }\n      }\n\n      if (accept !== \"*\") {\n        const acceptedTypes = accept.split(\",\").map((type) => type.trim());\n        const fileType = file instanceof File ? file.type || \"\" : file.type;\n        const fileExtension = `.${\n          file instanceof File\n            ? file.name.split(\".\").pop()\n            : file.name.split(\".\").pop()\n        }`;\n\n        const isAccepted = acceptedTypes.some((type) => {\n          if (type.startsWith(\".\")) {\n            return fileExtension.toLowerCase() === type.toLowerCase();\n          }\n          if (type.endsWith(\"/*\")) {\n            const baseType = type.split(\"/\")[0];\n            return fileType.startsWith(`${baseType}/`);\n          }\n          return fileType === type;\n        });\n\n        if (!isAccepted) {\n          return `File \"${\n            file instanceof File ? file.name : file.name\n          }\" is not an accepted file type.`;\n        }\n      }\n\n      return null;\n    },\n    [accept, maxSize]\n  );\n\n  const createPreview = useCallback(\n    (file: File | FileMetadata): string | undefined => {\n      if (file instanceof File) {\n        return URL.createObjectURL(file);\n      }\n      return file.url;\n    },\n    []\n  );\n\n  const generateUniqueId = useCallback((file: File | FileMetadata): string => {\n    if (file instanceof File) {\n      return `${file.name}-${Date.now()}-${Math.random()\n        .toString(36)\n        .substring(2, 9)}`;\n    }\n    return file.id;\n  }, []);\n\n  const clearFiles = useCallback(() => {\n    setState((prev) => {\n      // Clean up object URLs\n      prev.files.forEach((file) => {\n        if (\n          file.preview &&\n          file.file instanceof File &&\n          file.file.type.startsWith(\"image/\")\n        ) {\n          URL.revokeObjectURL(file.preview);\n        }\n      });\n\n      if (inputRef.current) {\n        inputRef.current.value = \"\";\n      }\n\n      const newState = {\n        ...prev,\n        files: [],\n        errors: [],\n      };\n\n      // Call onFilesChange after state update using setTimeout to avoid render-time setState\n      setTimeout(() => {\n        onFilesChange?.(newState.files);\n      }, 0);\n\n      return newState;\n    });\n  }, [onFilesChange]);\n\n  const addFiles = useCallback(\n    (newFiles: FileList | File[]) => {\n      if (!newFiles || newFiles.length === 0) return;\n\n      const newFilesArray = Array.from(newFiles);\n      const errors: string[] = [];\n\n      // Clear existing errors when new files are uploaded\n      setState((prev) => ({ ...prev, errors: [] }));\n\n      // In single file mode, clear existing files first\n      if (!multiple) {\n        clearFiles();\n      }\n\n      // Check if adding these files would exceed maxFiles (only in multiple mode)\n      if (\n        multiple &&\n        maxFiles !== Infinity &&\n        state.files.length + newFilesArray.length > maxFiles\n      ) {\n        errors.push(`You can only upload a maximum of ${maxFiles} files.`);\n        setState((prev) => ({ ...prev, errors }));\n        return;\n      }\n\n      const validFiles: FileWithPreview[] = [];\n\n      newFilesArray.forEach((file) => {\n        // Only check for duplicates if multiple files are allowed\n        if (multiple) {\n          const isDuplicate = state.files.some(\n            (existingFile) =>\n              existingFile.file.name === file.name &&\n              existingFile.file.size === file.size\n          );\n\n          // Skip duplicate files silently\n          if (isDuplicate) {\n            return;\n          }\n        }\n\n        // Check file size\n        if (file.size > maxSize) {\n          errors.push(\n            multiple\n              ? `Some files exceed the maximum size of ${formatBytes(maxSize)}.`\n              : `File exceeds the maximum size of ${formatBytes(maxSize)}.`\n          );\n          return;\n        }\n\n        const error = validateFile(file);\n        if (error) {\n          errors.push(error);\n        } else {\n          validFiles.push({\n            file,\n            id: generateUniqueId(file),\n            preview: createPreview(file),\n          });\n        }\n      });\n\n      // Only update state if we have valid files to add\n      if (validFiles.length > 0) {\n        // Call the onFilesAdded callback with the newly added valid files\n        onFilesAdded?.(validFiles);\n\n        setState((prev) => {\n          const newFiles = !multiple\n            ? validFiles\n            : [...prev.files, ...validFiles];\n\n          // Call onFilesChange after state update using setTimeout to avoid render-time setState\n          setTimeout(() => {\n            onFilesChange?.(newFiles);\n          }, 0);\n\n          return {\n            ...prev,\n            files: newFiles,\n            errors,\n          };\n        });\n      } else if (errors.length > 0) {\n        setState((prev) => ({\n          ...prev,\n          errors,\n        }));\n      }\n\n      // Reset input value after handling files\n      if (inputRef.current) {\n        inputRef.current.value = \"\";\n      }\n    },\n    [\n      state.files,\n      maxFiles,\n      multiple,\n      maxSize,\n      validateFile,\n      createPreview,\n      generateUniqueId,\n      clearFiles,\n      onFilesChange,\n      onFilesAdded,\n    ]\n  );\n\n  const removeFile = useCallback(\n    (id: string) => {\n      setState((prev) => {\n        const fileToRemove = prev.files.find((file) => file.id === id);\n        if (\n          fileToRemove &&\n          fileToRemove.preview &&\n          fileToRemove.file instanceof File &&\n          fileToRemove.file.type.startsWith(\"image/\")\n        ) {\n          URL.revokeObjectURL(fileToRemove.preview);\n        }\n\n        const newFiles = prev.files.filter((file) => file.id !== id);\n\n        // Call onFilesChange after state update using setTimeout to avoid render-time setState\n        setTimeout(() => {\n          onFilesChange?.(newFiles);\n        }, 0);\n\n        return {\n          ...prev,\n          files: newFiles,\n          errors: [],\n        };\n      });\n    },\n    [onFilesChange]\n  );\n\n  const clearErrors = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      errors: [],\n    }));\n  }, []);\n\n  const handleDragEnter = useCallback((e: DragEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setState((prev) => ({ ...prev, isDragging: true }));\n  }, []);\n\n  const handleDragLeave = useCallback((e: DragEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.currentTarget.contains(e.relatedTarget as Node)) {\n      return;\n    }\n\n    setState((prev) => ({ ...prev, isDragging: false }));\n  }, []);\n\n  const handleDragOver = useCallback((e: DragEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n\n  const handleDrop = useCallback(\n    (e: DragEvent<HTMLElement>) => {\n      e.preventDefault();\n      e.stopPropagation();\n      setState((prev) => ({ ...prev, isDragging: false }));\n\n      // Don't process files if the input is disabled\n      if (inputRef.current?.disabled) {\n        return;\n      }\n\n      if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n        // In single file mode, only use the first file\n        if (!multiple) {\n          const file = e.dataTransfer.files[0];\n          addFiles([file]);\n        } else {\n          addFiles(e.dataTransfer.files);\n        }\n      }\n    },\n    [addFiles, multiple]\n  );\n\n  const handleFileChange = useCallback(\n    (e: ChangeEvent<HTMLInputElement>) => {\n      if (e.target.files && e.target.files.length > 0) {\n        addFiles(e.target.files);\n      }\n    },\n    [addFiles]\n  );\n\n  const openFileDialog = useCallback(() => {\n    if (inputRef.current) {\n      inputRef.current.click();\n    }\n  }, []);\n\n  const getInputProps = useCallback(\n    (props: InputHTMLAttributes<HTMLInputElement> = {}) => {\n      return {\n        ...props,\n        type: \"file\" as const,\n        onChange: handleFileChange,\n        accept: props.accept || accept,\n        multiple: props.multiple !== undefined ? props.multiple : multiple,\n        ref: inputRef,\n      };\n    },\n    [accept, multiple, handleFileChange]\n  );\n\n  return [\n    state,\n    {\n      addFiles,\n      removeFile,\n      clearFiles,\n      clearErrors,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      handleFileChange,\n      openFileDialog,\n      getInputProps,\n    },\n  ];\n};\n\n// Helper function to format bytes to human-readable format\nexport const formatBytes = (bytes: number, decimals = 2): string => {\n  if (bytes === 0) return \"0 Bytes\";\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return Number.parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + sizes[i];\n};\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","import type { ValidationRule } from \"../types\";\nimport { type ClassValue, clsx } from \"clsx\";\n\n/**\n * Utility function for merging class names\n */\nexport function cn(...inputs: ClassValue[]) {\n  return clsx(inputs);\n}\n\n/**\n * Validates a file against a set of validation rules\n */\nexport function validateFile(\n  file: File,\n  rules: ValidationRule[],\n  allFiles: File[] = []\n): string[] {\n  const errors: string[] = [];\n\n  for (const rule of rules) {\n    switch (rule.type) {\n      case \"maxSize\":\n        if (typeof rule.value === \"number\" && file.size > rule.value) {\n          errors.push(rule.message.replace(\"{size}\", formatBytes(rule.value)));\n        }\n        break;\n      case \"fileType\":\n        if (typeof rule.value === \"string\") {\n          const acceptedTypes = rule.value\n            .split(\",\")\n            .map((type: string) => type.trim());\n          const fileType = file.type || \"\";\n          const fileExtension = `.${file.name.split(\".\").pop()}`;\n\n          const isAccepted = acceptedTypes.some((type: string) => {\n            if (type.startsWith(\".\")) {\n              return fileExtension.toLowerCase() === type.toLowerCase();\n            }\n            if (type.endsWith(\"/*\")) {\n              const baseType = type.split(\"/\")[0];\n              return fileType.startsWith(`${baseType}/`);\n            }\n            return fileType === type;\n          });\n\n          if (!isAccepted) {\n            errors.push(rule.message);\n          }\n        }\n        break;\n      case \"maxFiles\":\n        if (typeof rule.value === \"number\" && allFiles.length > rule.value) {\n          errors.push(rule.message.replace(\"{count}\", rule.value.toString()));\n        }\n        break;\n      case \"minFiles\":\n        if (typeof rule.value === \"number\" && allFiles.length < rule.value) {\n          errors.push(rule.message.replace(\"{count}\", rule.value.toString()));\n        }\n        break;\n      case \"custom\":\n        if (rule.validator && !rule.validator(file, allFiles)) {\n          errors.push(rule.message);\n        }\n        break;\n    }\n  }\n\n  return errors;\n}\n\n/**\n * Checks if a file is an image\n */\nexport function isImageFile(file: File | { type: string }): boolean {\n  return file.type.startsWith(\"image/\");\n}\n\n/**\n * Checks if a file is a document\n */\nexport function isDocumentFile(file: File | { type: string }): boolean {\n  const documentTypes = [\n    \"application/pdf\",\n    \"application/msword\",\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    \"application/vnd.ms-excel\",\n    \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n    \"application/vnd.ms-powerpoint\",\n    \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\n    \"text/plain\",\n    \"text/csv\",\n  ];\n  return documentTypes.includes(file.type);\n}\n\n/**\n * Gets the appropriate icon for a file type\n */\nexport function getFileIcon(\n  file: File | { type: string; name: string }\n): string {\n  if (isImageFile(file)) {\n    return \"image\";\n  }\n\n  if (isDocumentFile(file)) {\n    return \"file-text\";\n  }\n\n  // Check by extension\n  const extension = file.name.split(\".\").pop()?.toLowerCase();\n\n  switch (extension) {\n    case \"zip\":\n    case \"rar\":\n    case \"7z\":\n      return \"archive\";\n    case \"mp4\":\n    case \"avi\":\n    case \"mov\":\n    case \"wmv\":\n      return \"video\";\n    case \"mp3\":\n    case \"wav\":\n    case \"flac\":\n      return \"music\";\n    default:\n      return \"file\";\n  }\n}\n\n/**\n * Creates a preview URL for a file\n */\nexport function createFilePreview(file: File): string | undefined {\n  if (isImageFile(file)) {\n    return URL.createObjectURL(file);\n  }\n  return undefined;\n}\n\n/**\n * Cleans up a preview URL\n */\nexport function revokeFilePreview(url: string): void {\n  if (url.startsWith(\"blob:\")) {\n    URL.revokeObjectURL(url);\n  }\n}\n\n/**\n * Generates a unique ID for a file\n */\nexport function generateFileId(file: File): string {\n  return `${file.name}-${file.size}-${Date.now()}-${Math.random()\n    .toString(36)\n    .substring(2, 9)}`;\n}\n\n/**\n * Converts bytes to human readable format\n */\nexport function formatBytes(bytes: number, decimals = 2): string {\n  if (bytes === 0) return \"0 Bytes\";\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return (\n    Number.parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i]\n  );\n}\n\n/**\n * Merges two configuration objects deeply\n */\nexport function mergeConfig<T extends Record<string, unknown>>(\n  defaultConfig: T,\n  userConfig: Partial<T>\n): T {\n  const result = { ...defaultConfig };\n\n  for (const key in userConfig) {\n    if (userConfig[key] !== undefined) {\n      const defaultValue = defaultConfig[key];\n      const userValue = userConfig[key];\n\n      if (\n        typeof userValue === \"object\" &&\n        userValue !== null &&\n        !Array.isArray(userValue) &&\n        typeof defaultValue === \"object\" &&\n        defaultValue !== null &&\n        !Array.isArray(defaultValue)\n      ) {\n        // Both values are objects, merge them recursively\n        result[key] = mergeConfig(\n          defaultValue as Record<string, unknown>,\n          userValue as Record<string, unknown>\n        ) as T[Extract<keyof T, string>];\n      } else {\n        // Use user value directly\n        result[key] = userValue as T[Extract<keyof T, string>];\n      }\n    }\n  }\n\n  return result;\n}\n\n/**\n * Debounces a function\n */\nexport function debounce<T extends (...args: never[]) => unknown>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout | null = null;\n\n  return (...args: Parameters<T>) => {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(() => func(...args), wait);\n  };\n}\n\n/**\n * Throttles a function\n */\nexport function throttle<T extends (...args: never[]) => unknown>(\n  func: T,\n  limit: number\n): (...args: Parameters<T>) => void {\n  let inThrottle: boolean;\n\n  return (...args: Parameters<T>) => {\n    if (!inThrottle) {\n      func(...args);\n      inThrottle = true;\n      setTimeout(() => (inThrottle = false), limit);\n    }\n  };\n}\n","\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\n/**\n * File upload container variants\n */\nexport const fileUploadVariants = cva(\n  \"relative inline-flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        button:\n          \"rounded-md bg-primary text-primary-foreground hover:bg-primary/90\",\n        dropzone:\n          \"border-2 border-dashed border-border hover:border-primary/50 bg-background rounded-lg p-6 text-center cursor-pointer transition-colors\",\n        preview:\n          \"border border-border rounded-lg overflow-hidden bg-background\",\n        compact:\n          \"rounded-md border border-border bg-background hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        sm: \"h-8 px-3 text-xs\",\n        md: \"h-10 px-4 py-2\",\n        lg: \"h-11 px-8\",\n      },\n      radius: {\n        none: \"rounded-none\",\n        sm: \"rounded-sm\",\n        md: \"rounded-md\",\n        lg: \"rounded-lg\",\n        full: \"rounded-full\",\n      },\n    },\n    compoundVariants: [\n      {\n        variant: \"dropzone\",\n        size: \"sm\",\n        className: \"min-h-24 p-4\",\n      },\n      {\n        variant: \"dropzone\",\n        size: \"md\",\n        className: \"min-h-32 p-6\",\n      },\n      {\n        variant: \"dropzone\",\n        size: \"lg\",\n        className: \"min-h-40 p-8\",\n      },\n      {\n        variant: \"preview\",\n        size: \"sm\",\n        className: \"w-16 h-16\",\n      },\n      {\n        variant: \"preview\",\n        size: \"md\",\n        className: \"w-24 h-24\",\n      },\n      {\n        variant: \"preview\",\n        size: \"lg\",\n        className: \"w-32 h-32\",\n      },\n      {\n        variant: \"compact\",\n        size: \"sm\",\n        className: \"h-8 px-2 text-xs\",\n      },\n      {\n        variant: \"compact\",\n        size: \"md\",\n        className: \"h-9 px-3 text-sm\",\n      },\n      {\n        variant: \"compact\",\n        size: \"lg\",\n        className: \"h-10 px-4\",\n      },\n    ],\n    defaultVariants: {\n      variant: \"dropzone\",\n      size: \"md\",\n      radius: \"md\",\n    },\n  }\n);\n\n/**\n * File preview variants\n */\nexport const filePreviewVariants = cva(\n  \"relative overflow-hidden transition-all\",\n  {\n    variants: {\n      variant: {\n        grid: \"rounded-lg border border-border bg-background p-2\",\n        list: \"flex items-center gap-3 rounded-md border border-border bg-background p-3\",\n        compact:\n          \"flex items-center gap-2 rounded border border-border bg-background p-2\",\n      },\n      size: {\n        sm: \"text-xs\",\n        md: \"text-sm\",\n        lg: \"text-base\",\n      },\n    },\n    compoundVariants: [\n      {\n        variant: \"grid\",\n        size: \"sm\",\n        className: \"w-20 h-20\",\n      },\n      {\n        variant: \"grid\",\n        size: \"md\",\n        className: \"w-24 h-24\",\n      },\n      {\n        variant: \"grid\",\n        size: \"lg\",\n        className: \"w-32 h-32\",\n      },\n    ],\n    defaultVariants: {\n      variant: \"grid\",\n      size: \"md\",\n    },\n  }\n);\n\n/**\n * Error message variants\n */\nexport const errorVariants = cva(\"text-sm font-medium\", {\n  variants: {\n    variant: {\n      default: \"text-destructive\",\n      subtle: \"text-muted-foreground\",\n      prominent: \"text-destructive bg-destructive/10 px-3 py-2 rounded-md\",\n    },\n  },\n  defaultVariants: {\n    variant: \"default\",\n  },\n});\n\n/**\n * Progress bar variants\n */\nexport const progressVariants = cva(\n  \"w-full bg-secondary rounded-full overflow-hidden\",\n  {\n    variants: {\n      size: {\n        sm: \"h-1\",\n        md: \"h-2\",\n        lg: \"h-3\",\n      },\n    },\n    defaultVariants: {\n      size: \"md\",\n    },\n  }\n);\n\n/**\n * Icon variants\n */\nexport const iconVariants = cva(\"flex-shrink-0\", {\n  variants: {\n    size: {\n      sm: \"w-4 h-4\",\n      md: \"w-5 h-5\",\n      lg: \"w-6 h-6\",\n      xl: \"w-8 h-8\",\n    },\n    variant: {\n      default: \"text-muted-foreground\",\n      primary: \"text-primary\",\n      success: \"text-green-500\",\n      error: \"text-destructive\",\n      warning: \"text-yellow-500\",\n    },\n  },\n  defaultVariants: {\n    size: \"md\",\n    variant: \"default\",\n  },\n});\n\n/**\n * Button variants for file upload actions\n */\nexport const uploadButtonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\n// Export types for component props\nexport type FileUploadVariantProps = VariantProps<typeof fileUploadVariants>;\nexport type FilePreviewVariantProps = VariantProps<typeof filePreviewVariants>;\nexport type ErrorVariantProps = VariantProps<typeof errorVariants>;\nexport type ProgressVariantProps = VariantProps<typeof progressVariants>;\nexport type IconVariantProps = VariantProps<typeof iconVariants>;\nexport type UploadButtonVariantProps = VariantProps<\n  typeof uploadButtonVariants\n>;\n","\"use client\";\n\nimport React from \"react\";\nimport { cn } from \"../utils\";\nimport {\n  progressVariants,\n  type ProgressVariantProps,\n} from \"./file-upload-variants\";\n\ninterface ProgressBarProps extends ProgressVariantProps {\n  value: number; // 0-100\n  className?: string;\n  showLabel?: boolean;\n  status?: \"pending\" | \"uploading\" | \"success\" | \"error\";\n}\n\nexport const ProgressBar: React.FC<ProgressBarProps> = ({\n  value,\n  size = \"md\",\n  className,\n  showLabel = false,\n  status = \"uploading\",\n}) => {\n  const getStatusColor = () => {\n    switch (status) {\n      case \"success\":\n        return \"bg-green-500\";\n      case \"error\":\n        return \"bg-destructive\";\n      case \"uploading\":\n        return \"bg-primary\";\n      default:\n        return \"bg-muted-foreground\";\n    }\n  };\n\n  const clampedValue = Math.min(100, Math.max(0, value));\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      <div className={progressVariants({ size })}>\n        <div\n          className={cn(\n            \"h-full transition-all duration-300 ease-out rounded-full\",\n            getStatusColor()\n          )}\n          style={{ width: `${clampedValue}%` }}\n        />\n      </div>\n      {showLabel && (\n        <div className=\"flex justify-between items-center mt-1 text-xs text-muted-foreground\">\n          <span className=\"capitalize\">{status}</span>\n          <span>{Math.round(clampedValue)}%</span>\n        </div>\n      )}\n    </div>\n  );\n};\n","\"use client\";\n\nimport React, { forwardRef } from \"react\";\nimport { Upload, X, File, AlertCircle } from \"lucide-react\";\nimport { cn } from \"../utils\";\nimport { useFileUpload } from \"../hooks/use-file-upload\";\nimport {\n  fileUploadVariants,\n  filePreviewVariants,\n  errorVariants,\n  uploadButtonVariants,\n  iconVariants,\n} from \"./file-upload-variants\";\nimport { ProgressBar } from \"./progress-bar\";\nimport type { FileUploadProps } from \"../types\";\nimport { formatBytes, isImageFile } from \"../utils\";\n\n/**\n * Main FileUpload component with variant support\n */\nexport const FileUpload = forwardRef<HTMLDivElement, FileUploadProps>(\n  (\n    {\n      variant = \"dropzone\",\n      size = \"md\",\n      radius = \"md\",\n      multiple = false,\n      maxFiles = 1,\n      maxSize = 10 * 1024 * 1024,\n      accept = \"*\",\n      disabled = false,\n      showPreview = true,\n      showProgress = false,\n      allowRemove = true,\n      className,\n      onFilesChange,\n      onFilesAdded,\n      onError,\n      initialFiles = [],\n      labels = {},\n      ...props\n    },\n    ref\n  ) => {\n    const defaultLabels = {\n      dropzone: \"Drop files here or click to browse\",\n      button: \"Choose Files\",\n      dragActive: \"Drop files here or click to browse\",\n      remove: \"Remove file\",\n      clear: \"Clear all files\",\n      ...labels,\n    };\n\n    const [state, actions] = useFileUpload({\n      multiple,\n      maxFiles,\n      maxSize,\n      accept,\n      initialFiles: initialFiles?.map((f) => ({\n        name: f.file.name,\n        size: f.file.size,\n        type: f.file.type,\n        url: f.preview || \"\",\n        id: f.id,\n      })),\n      onFilesChange,\n      onFilesAdded,\n    });\n\n    React.useEffect(() => {\n      if (state.errors.length > 0) {\n        onError?.(state.errors);\n      }\n    }, [state.errors, onError]);\n\n    const renderButton = () => (\n      <button\n        type=\"button\"\n        onClick={actions.openFileDialog}\n        disabled={disabled}\n        className={cn(\n          uploadButtonVariants({\n            variant: \"default\",\n            size: size === \"md\" ? \"default\" : size === \"sm\" ? \"sm\" : \"lg\",\n          }),\n          className\n        )}\n      >\n        <Upload className={iconVariants({ size: \"sm\" })} />\n        {defaultLabels.button}\n      </button>\n    );\n\n    const renderDropzone = () => (\n      <div\n        onDragEnter={actions.handleDragEnter}\n        onDragLeave={actions.handleDragLeave}\n        onDragOver={actions.handleDragOver}\n        onDrop={actions.handleDrop}\n        onClick={actions.openFileDialog}\n        data-dragging={state.isDragging || undefined}\n        className={cn(\n          fileUploadVariants({ variant, size, radius }),\n          \"data-[dragging=true]:bg-accent/50 data-[dragging=true]:border-primary transition-colors\",\n          disabled && \"opacity-50 cursor-not-allowed\",\n          className\n        )}\n      >\n        <div className=\"flex flex-col items-center gap-2\">\n          <Upload\n            className={iconVariants({ size: size === \"sm\" ? \"md\" : \"lg\" })}\n          />\n          <div className=\"text-sm text-muted-foreground\">\n            {state.isDragging\n              ? defaultLabels.dragActive\n              : defaultLabels.dropzone}\n          </div>\n          {maxSize < Infinity && (\n            <div className=\"text-xs text-muted-foreground\">\n              Max size: {formatBytes(maxSize)}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n\n    const renderPreview = () => (\n      <div\n        className={cn(fileUploadVariants({ variant, size, radius }), className)}\n      >\n        {state.files.length > 0 ? (\n          <div className=\"relative w-full h-full\">\n            {state.files[0].preview && isImageFile(state.files[0].file) ? (\n              <img\n                src={state.files[0].preview}\n                alt=\"Preview\"\n                className={cn(\n                  \"w-full h-full object-cover\",\n                  radius === \"full\" && \"rounded-full\"\n                )}\n              />\n            ) : (\n              <div className=\"flex items-center justify-center w-full h-full bg-muted\">\n                <File className={iconVariants({ size: \"lg\" })} />\n              </div>\n            )}\n            {allowRemove && (\n              <button\n                type=\"button\"\n                onClick={() => actions.removeFile(state.files[0].id)}\n                className=\"absolute top-1 right-1 p-1 bg-destructive text-destructive-foreground rounded-full hover:bg-destructive/90\"\n              >\n                <X className=\"w-3 h-3\" />\n              </button>\n            )}\n          </div>\n        ) : (\n          <div\n            onClick={actions.openFileDialog}\n            className=\"flex items-center justify-center w-full h-full cursor-pointer hover:bg-muted/50 transition-colors\"\n          >\n            <Upload className={iconVariants({ size: \"lg\" })} />\n          </div>\n        )}\n      </div>\n    );\n\n    const renderCompact = () => (\n      <button\n        type=\"button\"\n        onClick={actions.openFileDialog}\n        disabled={disabled}\n        className={cn(fileUploadVariants({ variant, size, radius }), className)}\n      >\n        <Upload className={iconVariants({ size: \"sm\" })} />\n        <span className=\"ml-2\">{defaultLabels.button}</span>\n      </button>\n    );\n\n    const renderFileList = () => {\n      if (!showPreview || state.files.length === 0) return null;\n\n      return (\n        <div className=\"mt-4 space-y-2\">\n          {state.files.map((fileWithPreview) => (\n            <div\n              key={fileWithPreview.id}\n              className={filePreviewVariants({ variant: \"list\", size })}\n            >\n              <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                {fileWithPreview.preview &&\n                isImageFile(fileWithPreview.file) ? (\n                  <img\n                    src={fileWithPreview.preview}\n                    alt=\"Preview\"\n                    className=\"w-10 h-10 object-cover rounded\"\n                  />\n                ) : (\n                  <File className={iconVariants({ size: \"md\" })} />\n                )}\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"text-sm font-medium truncate\">\n                    {fileWithPreview.file.name}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">\n                    {formatBytes(fileWithPreview.file.size)}\n                  </div>\n                  {showProgress && fileWithPreview.progress !== undefined && (\n                    <div className=\"mt-2\">\n                      <ProgressBar\n                        value={fileWithPreview.progress}\n                        size=\"sm\"\n                        showLabel={true}\n                        status={fileWithPreview.status}\n                      />\n                    </div>\n                  )}\n                </div>\n              </div>\n              {allowRemove && (\n                <button\n                  type=\"button\"\n                  onClick={() => actions.removeFile(fileWithPreview.id)}\n                  className=\"p-1 hover:bg-destructive/10 rounded\"\n                >\n                  <X className=\"w-4 h-4 text-destructive\" />\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      );\n    };\n\n    const renderErrors = () => {\n      if (state.errors.length === 0) return null;\n\n      return (\n        <div className=\"mt-2 space-y-1\">\n          {state.errors.map((error, index) => (\n            <div key={index} className={errorVariants({ variant: \"default\" })}>\n              <AlertCircle className=\"w-4 h-4 inline mr-1\" />\n              {error}\n            </div>\n          ))}\n        </div>\n      );\n    };\n\n    return (\n      <div ref={ref} {...props}>\n        <input {...actions.getInputProps()} className=\"hidden\" />\n\n        {variant === \"button\" && renderButton()}\n        {variant === \"dropzone\" && renderDropzone()}\n        {variant === \"preview\" && renderPreview()}\n        {variant === \"compact\" && renderCompact()}\n\n        {variant !== \"preview\" && renderFileList()}\n        {renderErrors()}\n      </div>\n    );\n  }\n);\n\nFileUpload.displayName = \"FileUpload\";\n","import type { FileUploadConfig, FileUploadPreset } from \"../types\";\n\n/**\n * Base default configuration for file upload components\n */\nexport const DEFAULT_CONFIG: FileUploadConfig = {\n  variant: \"dropzone\",\n  size: \"md\",\n  radius: \"md\",\n  multiple: false,\n  maxFiles: 1,\n  maxSize: 10 * 1024 * 1024, // 10MB\n  accept: \"*\",\n  disabled: false,\n  showPreview: true,\n  showProgress: false,\n  allowRemove: true,\n  labels: {\n    dropzone: \"Drop files here or click to browse\",\n    button: \"Choose Files\",\n    dragActive: \"Drop files here\",\n    maxFiles: \"Maximum {count} files allowed\",\n    maxSize: \"File size must be less than {size}\",\n    fileType: \"File type not supported\",\n    remove: \"Remove file\",\n    clear: \"Clear all files\",\n  },\n  icons: {\n    upload: \"upload\",\n    file: \"file\",\n    image: \"image\",\n    remove: \"x\",\n    error: \"alert-circle\",\n  },\n  styles: {\n    container: \"\",\n    dropzone: \"\",\n    button: \"\",\n    preview: \"\",\n    error: \"\",\n  },\n};\n\n/**\n * Type for preset configurations that allows partial labels\n */\ntype PresetConfig = Omit<Partial<FileUploadConfig>, \"labels\"> & {\n  labels?: Partial<FileUploadConfig[\"labels\"]>;\n};\n\n/**\n * Preset configurations for common use cases\n */\nexport const PRESET_CONFIGS: Record<FileUploadPreset, PresetConfig> = {\n  default: {},\n\n  \"image-upload\": {\n    variant: \"dropzone\",\n    accept: \"image/*\",\n    maxSize: 5 * 1024 * 1024, // 5MB\n    showPreview: true,\n    labels: {\n      dropzone: \"Drop images here or click to browse\",\n      button: \"Choose Images\",\n      dragActive: \"Drop images here\",\n      fileType: \"Only image files are supported\",\n    },\n  },\n\n  \"document-upload\": {\n    variant: \"button\",\n    accept: \".pdf,.doc,.docx,.txt,.csv,.xls,.xlsx,.ppt,.pptx\",\n    maxSize: 25 * 1024 * 1024, // 25MB\n    multiple: true,\n    maxFiles: 5,\n    showPreview: false,\n    labels: {\n      dropzone: \"Drop documents here or click to browse\",\n      button: \"Choose Documents\",\n      dragActive: \"Drop documents here\",\n      fileType: \"Only document files are supported\",\n    },\n  },\n\n  \"multi-file\": {\n    variant: \"dropzone\",\n    multiple: true,\n    maxFiles: 10,\n    maxSize: 50 * 1024 * 1024, // 50MB\n    showPreview: true,\n    allowRemove: true,\n    labels: {\n      dropzone: \"Drop multiple files here or click to browse\",\n      button: \"Choose Multiple Files\",\n      dragActive: \"Drop files here\",\n      maxFiles: \"Maximum 10 files allowed\",\n    },\n  },\n\n  compact: {\n    variant: \"compact\",\n    size: \"sm\",\n    showPreview: false,\n    labels: {\n      button: \"Upload\",\n      dropzone: \"Drop file\",\n    },\n  },\n};\n\n/**\n * Gets a configuration by merging preset with custom overrides\n */\nexport function getConfig(\n  preset: FileUploadPreset = \"default\",\n  overrides: PresetConfig = {}\n): FileUploadConfig {\n  const presetConfig = PRESET_CONFIGS[preset] || {};\n\n  return {\n    ...DEFAULT_CONFIG,\n    ...presetConfig,\n    ...overrides,\n    labels: {\n      ...DEFAULT_CONFIG.labels,\n      ...presetConfig.labels,\n      ...overrides.labels,\n    },\n    icons: {\n      ...DEFAULT_CONFIG.icons,\n      ...presetConfig.icons,\n      ...overrides.icons,\n    },\n    styles: {\n      ...DEFAULT_CONFIG.styles,\n      ...presetConfig.styles,\n      ...overrides.styles,\n    },\n  };\n}\n\n/**\n * Validates a configuration object\n */\nexport function validateConfig(config: PresetConfig): string[] {\n  const errors: string[] = [];\n\n  if (config.maxFiles !== undefined && config.maxFiles < 1) {\n    errors.push(\"maxFiles must be at least 1\");\n  }\n\n  if (config.maxSize !== undefined && config.maxSize < 1) {\n    errors.push(\"maxSize must be at least 1 byte\");\n  }\n\n  if (\n    config.multiple === false &&\n    config.maxFiles !== undefined &&\n    config.maxFiles > 1\n  ) {\n    errors.push(\"maxFiles cannot be greater than 1 when multiple is false\");\n  }\n\n  return errors;\n}\n\n/**\n * Example configurations for demonstration\n */\nexport const EXAMPLE_CONFIGS = {\n  basicUpload: {\n    variant: \"button\" as const,\n    size: \"md\" as const,\n    labels: {\n      button: \"Upload File\",\n    },\n  },\n\n  imageGallery: {\n    variant: \"dropzone\" as const,\n    accept: \"image/*\",\n    multiple: true,\n    maxFiles: 20,\n    showPreview: true,\n    labels: {\n      dropzone: \"Add photos to your gallery\",\n      dragActive: \"Drop photos here\",\n    },\n  },\n\n  documentLibrary: {\n    variant: \"dropzone\" as const,\n    accept: \".pdf,.doc,.docx\",\n    multiple: true,\n    maxFiles: 50,\n    maxSize: 10 * 1024 * 1024, // 10MB\n    showPreview: false,\n    labels: {\n      dropzone: \"Upload documents to your library\",\n      maxFiles: \"Up to 50 documents\",\n    },\n  },\n} as const;\n","\"use client\";\n\nimport React from \"react\";\nimport { FileUpload } from \"./file-upload\";\nimport { getConfig } from \"../config/default-configs\";\nimport type {\n  FileUploadRendererProps,\n  FileUploadConfig,\n  FileUploadPreset,\n  FileWithPreview,\n} from \"../types\";\nimport { validateConfig } from \"../config/default-configs\";\n\n/**\n * Config-driven FileUpload renderer\n * Renders a FileUpload component based on a JSON configuration\n */\nexport const FileUploadRenderer: React.FC<FileUploadRendererProps> = ({\n  config,\n  className,\n  onFilesChange,\n  onFilesAdded,\n  onError,\n  initialFiles,\n  ...props\n}) => {\n  // Validate configuration\n  const configErrors = validateConfig(config);\n  if (configErrors.length > 0) {\n    console.warn(\"FileUpload configuration errors:\", configErrors);\n  }\n\n  return (\n    <FileUpload\n      variant={config.variant}\n      size={config.size}\n      radius={config.radius}\n      multiple={config.multiple}\n      maxFiles={config.maxFiles}\n      maxSize={config.maxSize}\n      accept={config.accept}\n      disabled={config.disabled}\n      showPreview={config.showPreview}\n      allowRemove={config.allowRemove}\n      labels={config.labels}\n      className={className}\n      onFilesChange={onFilesChange}\n      onFilesAdded={onFilesAdded}\n      onError={onError}\n      initialFiles={initialFiles}\n      {...props}\n    />\n  );\n};\n\n/**\n * Preset-based FileUpload renderer\n * Renders a FileUpload component using a preset configuration with optional overrides\n */\nexport interface FileUploadPresetRendererProps {\n  preset: FileUploadPreset;\n  overrides?: Omit<Partial<FileUploadConfig>, \"labels\"> & {\n    labels?: Partial<FileUploadConfig[\"labels\"]>;\n  };\n  className?: string;\n  onFilesChange?: (files: FileWithPreview[]) => void;\n  onFilesAdded?: (files: FileWithPreview[]) => void;\n  onError?: (errors: string[]) => void;\n  initialFiles?: FileWithPreview[];\n}\n\nexport const FileUploadPresetRenderer: React.FC<\n  FileUploadPresetRendererProps\n> = ({ preset, overrides = {}, ...props }) => {\n  const config = getConfig(preset, overrides);\n\n  return <FileUploadRenderer config={config} {...props} />;\n};\n\n/**\n * JSON-based FileUpload renderer\n * Renders a FileUpload component from a JSON string configuration\n */\nexport interface FileUploadJSONRendererProps {\n  configJSON: string;\n  fallbackPreset?: FileUploadPreset;\n  className?: string;\n  onFilesChange?: (files: FileWithPreview[]) => void;\n  onFilesAdded?: (files: FileWithPreview[]) => void;\n  onError?: (errors: string[]) => void;\n  onConfigError?: (error: string) => void;\n  initialFiles?: FileWithPreview[];\n}\n\nexport const FileUploadJSONRenderer: React.FC<FileUploadJSONRendererProps> = ({\n  configJSON,\n  fallbackPreset = \"default\",\n  onConfigError,\n  ...props\n}) => {\n  const [config, setConfig] = React.useState<FileUploadConfig | null>(null);\n  const [error, setError] = React.useState<string | null>(null);\n\n  React.useEffect(() => {\n    try {\n      const parsedConfig = JSON.parse(configJSON) as Omit<\n        Partial<FileUploadConfig>,\n        \"labels\"\n      > & {\n        labels?: Partial<FileUploadConfig[\"labels\"]>;\n      };\n      const fullConfig = getConfig(\"default\", parsedConfig);\n\n      // Validate the configuration\n      const configErrors = validateConfig(parsedConfig);\n      if (configErrors.length > 0) {\n        const errorMessage = `Configuration errors: ${configErrors.join(\", \")}`;\n        setError(errorMessage);\n        onConfigError?.(errorMessage);\n        // Use fallback preset on error\n        setConfig(getConfig(fallbackPreset));\n      } else {\n        setConfig(fullConfig);\n        setError(null);\n      }\n    } catch (parseError) {\n      const errorMessage = `Invalid JSON configuration: ${\n        parseError instanceof Error ? parseError.message : \"Unknown error\"\n      }`;\n      setError(errorMessage);\n      onConfigError?.(errorMessage);\n      // Use fallback preset on error\n      setConfig(getConfig(fallbackPreset));\n    }\n  }, [configJSON, fallbackPreset, onConfigError]);\n\n  if (!config) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n      {error && (\n        <div className=\"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-md\">\n          <div className=\"text-sm text-destructive font-medium\">\n            Configuration Error\n          </div>\n          <div className=\"text-xs text-destructive/80 mt-1\">{error}</div>\n          <div className=\"text-xs text-muted-foreground mt-1\">\n            Using fallback preset: {fallbackPreset}\n          </div>\n        </div>\n      )}\n      <FileUploadRenderer config={config} {...props} />\n    </div>\n  );\n};\n\n/**\n * Hook for managing file upload configuration\n */\nexport function useFileUploadConfig(initialConfig?: Partial<FileUploadConfig>) {\n  const [config, setConfig] = React.useState<FileUploadConfig>(() =>\n    getConfig(\"default\", initialConfig)\n  );\n\n  const updateConfig = React.useCallback(\n    (updates: Partial<FileUploadConfig>) => {\n      setConfig((current) => getConfig(\"default\", { ...current, ...updates }));\n    },\n    []\n  );\n\n  const resetConfig = React.useCallback(\n    (preset: FileUploadPreset = \"default\") => {\n      setConfig(getConfig(preset));\n    },\n    []\n  );\n\n  const exportConfig = React.useCallback(() => {\n    return JSON.stringify(config, null, 2);\n  }, [config]);\n\n  const importConfig = React.useCallback((configJSON: string) => {\n    try {\n      const parsedConfig = JSON.parse(configJSON) as Partial<FileUploadConfig>;\n      const configErrors = validateConfig(parsedConfig);\n\n      if (configErrors.length > 0) {\n        throw new Error(`Configuration errors: ${configErrors.join(\", \")}`);\n      }\n\n      setConfig(getConfig(\"default\", parsedConfig));\n      return { success: true, error: null };\n    } catch (error) {\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : \"Unknown error\",\n      };\n    }\n  }, []);\n\n  return {\n    config,\n    updateConfig,\n    resetConfig,\n    exportConfig,\n    importConfig,\n  };\n}\n"],"names":["useFileUpload","options","maxFiles","Infinity","maxSize","accept","multiple","initialFiles","onFilesChange","onFilesAdded","state","setState","useState","files","map","file","id","preview","url","isDragging","errors","inputRef","useRef","validateFile","useCallback","File","size","name","formatBytes","acceptedTypes","split","type","trim","fileType","fileExtension","pop","some","startsWith","toLowerCase","endsWith","baseType","createPreview","URL","createObjectURL","generateUniqueId","Date","now","Math","random","toString","substring","clearFiles","prev","forEach","revokeObjectURL","current","value","newState","Object","assign","setTimeout","addFiles","newFiles","length","newFilesArray","Array","from","push","validFiles","existingFile","error","removeFile","fileToRemove","find","filter","clearErrors","handleDragEnter","e","preventDefault","stopPropagation","handleDragLeave","currentTarget","contains","relatedTarget","handleDragOver","handleDrop","_a","disabled","dataTransfer","handleFileChange","target","openFileDialog","click","getInputProps","props","onChange","undefined","ref","bytes","decimals","dm","i","floor","log","Number","parseFloat","pow","toFixed","__rest","s","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","cn","inputs","clsx","isImageFile","isDocumentFile","includes","SuppressedError","fileUploadVariants","cva","variants","variant","button","dropzone","compact","sm","md","lg","radius","none","full","compoundVariants","className","defaultVariants","filePreviewVariants","grid","list","errorVariants","default","subtle","prominent","progressVariants","iconVariants","xl","primary","success","warning","uploadButtonVariants","destructive","outline","secondary","ghost","link","icon","ProgressBar","showLabel","status","clampedValue","min","max","_jsxs","children","_jsx","getStatusColor","style","width","round","FileUpload","forwardRef","showPreview","showProgress","allowRemove","onError","labels","defaultLabels","dragActive","remove","clear","actions","f","React","useEffect","onClick","Upload","onDragEnter","onDragLeave","onDragOver","onDrop","src","alt","X","fileWithPreview","progress","index","AlertCircle","displayName","DEFAULT_CONFIG","icons","upload","image","styles","container","PRESET_CONFIGS","getConfig","preset","overrides","presetConfig","validateConfig","config","FileUploadRenderer","configErrors","console","warn","basicUpload","imageGallery","documentLibrary","configJSON","fallbackPreset","onConfigError","setConfig","setError","parsedConfig","JSON","parse","fullConfig","errorMessage","join","parseError","Error","message","func","wait","timeout","args","clearTimeout","mergeConfig","defaultConfig","userConfig","result","key","defaultValue","userValue","isArray","limit","inThrottle","initialConfig","updateConfig","updates","resetConfig","exportConfig","stringify","importConfig","rules","allFiles","rule","replace","validator"],"mappings":"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","x_google_ignoreList":[1]}